webpackJsonp([53],{HUzq:function(e,t){},MZ8r:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r("lC5x"),d=r.n(s),i=r("J0Oq"),a=r.n(i),l=(r("6sKG"),r("CcaF")),o=r("1w1M"),n={name:"basetable",data:function(){return{mapJson:"/static/json/map.json",addressData:[],childrenData:[],cur_page:1,childId:"",addressId:"",phone:"",father:"",mother:"",province:"",sheng:"",shi:"",shi1:[],qu:"",qu1:[],city:"",block:"",Id:"",levelList:[{id:1,name:"土豪"},{id:2,name:"较好"},{id:3,name:"富裕"},{id:4,name:"正常"}],sexList:[{id:0,name:"未知"},{id:1,name:"男"},{id:2,name:"女"}],pageCount:0,pagesize:10,TypeList:[],TypeList1:[],addressTypeArr:[],addAddressVisible:!1,editAddressVisible:!1,addChildrenVisible:!1,editChildrenVisible:!1,addVisible:!1,editVisible:!1,AddressList:[],InfoForm:{father:"",mother:"",phone:"",level:"",other:""},addAddressForm:{type:"",value:"",price:"",orderIndex:""},editAddressForm:{type:"",value:"",price:"",orderIndex:"",name:""},addChildrenForm:{childName:"",sex:"",birthday:"",codeId:"",barCode:""},editChildrenForm:{childName:"",sex:"",birthday:"",codeId:"",barCode:""},InfoFormrules:{father:[{required:!0,message:"填写父亲姓名",trigger:"blur"}],mother:[{required:!0,message:"填写母亲姓名",trigger:"blur"}],phone:[{required:!0,message:"填写手机号",trigger:"blur"}],level:[{required:!0,message:"请选择等级",trigger:"change"}]},editAddressrules:{type:[{required:!0,message:"选择类型",trigger:"change"}],value:[{required:!0,message:"输入值",trigger:"blur"}],price:[{required:!0,message:"请输入价格",trigger:"blur"}],orderIndex:[{required:!0,message:"请输入排序值",trigger:"blur"}]},addAddressrules:{type:[{required:!0,message:"选择类型",trigger:"change"}],value:[{required:!0,message:"输入值",trigger:"blur"}],price:[{required:!0,message:"请输入价格",trigger:"blur"}],orderIndex:[{required:!0,message:"请输入排序值",trigger:"blur"}]},addChildrenrules:{codeId:[{required:!0,message:"输入编码",trigger:"blur"}],barCode:[{required:!0,message:"输入条形编码",trigger:"blur"}],sex:[{required:!0,message:"选择性别",trigger:"change"}],birthday:[{required:!0,message:"选择生日",trigger:"blur"}],childName:[{required:!0,message:"输入孩子姓名",trigger:"blur"}]},editChildrenrules:{codeId:[{required:!0,message:"输入编码",trigger:"blur"}],barCode:[{required:!0,message:"输入条形编码",trigger:"blur"}],sex:[{required:!0,message:"选择性别",trigger:"change"}],birthday:[{required:!0,message:"选择生日",trigger:"blur"}],childName:[{required:!0,message:"输入孩子姓名",trigger:"blur"}]},addrules:{Ip:[{required:!0,message:"请输入Ip地址",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}],token:[{required:!0,message:"请输入安全码",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}],des:[{required:!0,message:"请输入描述",trigger:"blur"},{min:1,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}]},editrules:{Ip:[{required:!0,message:"请输入Ip地址",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}],token:[{required:!0,message:"请输入安全码",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}],des:[{required:!0,message:"请输入描述",trigger:"blur"},{min:1,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}]}}},created:function(){this.getData(this.$route.params.id),this.getTypeList()},computed:{},watch:{$route:function(e){e.params.id&&this.getData(e.params.id)}},methods:{getTypeList:function(){var e=this;Object(l.t)({}).then(function(t){if(t.Success&&t.Data.List.length>0){for(var r=[],s=[],d=t.Data.List.length,i=0;i<d;i++)1==t.Data.List[i].Category&&r.push(t.Data.List[i]),2==t.Data.List[i].Category&&s.push(t.Data.List[i]);e.TypeList=r,e.TypeList1=s}})},changeTypeList:function(e){var t=this.searchType(this.TypeList,e);this.addAddressForm.value=this.TypeList[t].ContentValue,this.addAddressForm.price=this.TypeList[t].Price,this.addAddressForm.orderIndex=this.TypeList[t].OrderIndex},changeTypeList1:function(e){var t=this.searchType(this.TypeList1,e);this.addAddressForm.value=this.TypeList[t].ContentValue,this.addAddressForm.price=this.TypeList[t].Price,this.addAddressForm.orderIndex=this.TypeList[t].OrderIndex},searchType:function(e,t){for(var r=0;r<e.length;r++)if(e[r].ContentType==t)return r},showaddAddress:function(){this.addAddressForm.type="",this.addAddressForm.value="",this.addAddressForm.price="",this.addAddressForm.orderIndex="",this.addAddressVisible=!0},_addAddress:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var r={PtId:t.$route.params.id,ContentType:t.addAddressForm.type,DefaultValue:t.addAddressForm.value,Context:t.addAddressForm.value,PriceAmount:t.addAddressForm.price,OrderIndex:t.addAddressForm.orderIndex};Object(l.a)(r).then(function(e){e.Success?(t.$message({showClose:!0,message:"新增成功",type:"success"}),t.getData(t.$route.params.id),t.addChildrenVisible=!1,t.addAddressVisible=!1):t.$message(e.Message)})})},editAddress:function(e){this.editAddressVisible=!0,this.editAddressForm.contentId=e.ContentId,this.editAddressForm.type=e.ContentType,this.editAddressForm.value=e.Context,this.editAddressForm.price=e.PriceAmount,this.editAddressForm.orderIndex=e.OrderIndex},editChildren:function(e){this.editChildrenVisible=!0,this.editAddressForm.contentId=e.ContentId,this.editAddressForm.type=e.ContentType,this.editAddressForm.value=e.Context,this.editAddressForm.price=e.PriceAmount,this.editAddressForm.orderIndex=e.OrderIndex},editChildInfo:function(e){this.editAddressVisible=!0,this.addressId=e.AddressId,this.sheng=e.Province,this.shi=e.City,this.qu=e.County,this.editAddressForm.addressType=e.AddressType,this.editAddressForm.postCode=e.PostCode,this.editAddressForm.detailAddress=e.DetailAddress},_editAddress:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var r={ContentId:t.editAddressForm.contentId,PtId:t.$route.params.id,ContentType:t.editAddressForm.type,DefaultValue:t.editAddressForm.value,Context:t.editAddressForm.value,PriceAmount:t.editAddressForm.price,OrderIndex:t.editAddressForm.orderIndex};Object(l.f)(r).then(function(e){e.Success?(t.$message({showClose:!0,message:"修改成功",type:"success"}),t.getData(t.$route.params.id),t.editAddressVisible=!1,t.editChildrenVisible=!1):t.$message("发生错误")})})},showaddChildren:function(){this.addAddressForm.type="",this.addAddressForm.value="",this.addAddressForm.price="",this.addAddressForm.orderIndex="",this.addChildrenVisible=!0},_deleteChild:function(e){var t=this;this.$confirm("此操作将永久删除该项, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var r={ChildId:e,state:0};Object(o.e)(r).then(function(e){e.Success?(t.$message({type:"success",message:"删除成功!"}),t.getData(t.$route.params.id)):t.$message.error(e.Message)}).catch(function(e){console.log("error")})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},saveData:function(){},showEditChildren:function(e){this.editChildrenVisible=!0,this.childId=e.ChildId,this.editChildrenForm.childName=e.ChildName,this.editChildrenForm.sex=e.Sex,this.editChildrenForm.birthday=e.Birthday,this.editChildrenForm.codeId=e.CodeId,this.editChildrenForm.barCode=e.BarCode},showAddForm:function(){this.addVisible=!0},_deleteAddress:function(e){var t=this;this.$confirm("此操作将永久删除该项, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var r={contentid:e.ContentId,status:2};Object(l.e)(r).then(function(e){e.Success?(t.$message({type:"success",message:"删除成功!"}),t.getData(t.$route.params.id)):t.$message.error(e.Message)}).catch(function(e){console.log("error")})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},getData:function(e){var t=this;return a()(d.a.mark(function r(){var s;return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return s={ptid:e},r.next=3,Object(l.l)(s).then(function(e){if(e&&e.Success){for(var r=[],s=[],d=e.Data.length,i=0;i<d;i++)1==e.Data[i].Category&&r.push(e.Data[i]),2==e.Data[i].Category&&s.push(e.Data[i]);t.addressData=r,t.childrenData=s}else t.$message({message:"发生错误",center:!0})});case 3:case"end":return r.stop()}},r,t)}))()}}},c={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"table"},[r("div",{staticClass:"container"},[r("div",{staticClass:"title-box flex"},[e._m(0),e._v(" "),r("el-button",{staticStyle:{width:"120px"},attrs:{type:"primary"},on:{click:function(t){e.showaddAddress()}}},[e._v("增加发送选项")])],1),e._v(" "),r("div",{staticClass:"content-Box"},[r("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.addressData,border:""}},[r("el-table-column",{attrs:{prop:"ContentId",align:"center",label:"ID"}}),e._v(" "),r("el-table-column",{attrs:{prop:"ContentTypeDes",align:"center",label:"类型"}}),e._v(" "),r("el-table-column",{attrs:{prop:"Context",align:"center",label:"值"}}),e._v(" "),r("el-table-column",{attrs:{prop:"PriceAmount",align:"center",label:"价格"}}),e._v(" "),r("el-table-column",{attrs:{prop:"OrderIndex",align:"center",label:"排序值"}}),e._v(" "),r("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(r){e.editAddress(t.row)}}},[e._v("编辑")]),e._v(" "),r("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(r){e._deleteAddress(t.row)}}},[e._v("删除")])]}}])})],1)],1)]),e._v(" "),r("div",{staticClass:"container"},[r("div",{staticClass:"title-box flex"},[e._m(1),e._v(" "),r("el-button",{staticStyle:{width:"120px"},attrs:{type:"primary"},on:{click:e.showaddChildren}},[e._v("增加反馈选项")])],1),e._v(" "),r("div",{staticClass:"content-Box"},[r("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.childrenData,border:""}},[r("el-table-column",{attrs:{prop:"ContentId",align:"center",label:"ID"}}),e._v(" "),r("el-table-column",{attrs:{prop:"ContentTypeDes",align:"center",label:"类型"}}),e._v(" "),r("el-table-column",{attrs:{prop:"Context",align:"center",label:"值"}}),e._v(" "),r("el-table-column",{attrs:{prop:"PriceAmount",align:"center",label:"价格"}}),e._v(" "),r("el-table-column",{attrs:{prop:"OrderIndex",align:"center",label:"排序值"}}),e._v(" "),r("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(r){e.editChildren(t.row)}}},[e._v("编辑")]),e._v(" "),r("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(r){e._deleteAddress(t.row)}}},[e._v("删除")])]}}])})],1)],1)]),e._v(" "),r("el-dialog",{attrs:{title:"增加发送选项",visible:e.addAddressVisible,width:"660px"},on:{"update:visible":function(t){e.addAddressVisible=t}}},[r("el-form",{ref:"addAddressForm",attrs:{model:e.addAddressForm,rules:e.addAddressrules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"类型:",prop:"type"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择类型"},on:{change:e.changeTypeList},model:{value:e.addAddressForm.type,callback:function(t){e.$set(e.addAddressForm,"type",t)},expression:"addAddressForm.type"}},e._l(e.TypeList,function(e){return r("el-option",{key:e.ContentType,attrs:{label:e.ContentType,value:e.ContentType}})}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"值:",prop:"value"}},[r("el-input",{attrs:{placeholder:"请输入值"},model:{value:e.addAddressForm.value,callback:function(t){e.$set(e.addAddressForm,"value",t)},expression:"addAddressForm.value"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"价格:",prop:"price"}},[r("el-input",{attrs:{placeholder:"请输入价格"},model:{value:e.addAddressForm.price,callback:function(t){e.$set(e.addAddressForm,"price",t)},expression:"addAddressForm.price"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"排序值:",prop:"orderIndex"}},[r("el-input",{attrs:{placeholder:"请输入排序顺序值"},model:{value:e.addAddressForm.orderIndex,callback:function(t){e.$set(e.addAddressForm,"orderIndex",t)},expression:"addAddressForm.orderIndex"}})],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.addAddressVisible=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e._addAddress("addAddressForm")}}},[e._v("确 定")])],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"编辑发送选项",visible:e.editAddressVisible,width:"660px"},on:{"update:visible":function(t){e.editAddressVisible=t}}},[r("el-form",{ref:"editAddressForm",attrs:{model:e.editAddressForm,rules:e.editAddressrules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"类型:",prop:"type"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择类型"},on:{change:e.changeTypeList},model:{value:e.editAddressForm.type,callback:function(t){e.$set(e.editAddressForm,"type",t)},expression:"editAddressForm.type"}},e._l(e.TypeList,function(e){return r("el-option",{key:e.ContentType,attrs:{label:e.ContentType,value:e.ContentType}})}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"值:",prop:"value"}},[r("el-input",{attrs:{placeholder:"请输入值"},model:{value:e.editAddressForm.value,callback:function(t){e.$set(e.editAddressForm,"value",t)},expression:"editAddressForm.value"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"价格:",prop:"price"}},[r("el-input",{attrs:{placeholder:"请输入价格"},model:{value:e.editAddressForm.price,callback:function(t){e.$set(e.editAddressForm,"price",t)},expression:"editAddressForm.price"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"排序值:",prop:"orderIndex"}},[r("el-input",{attrs:{placeholder:"请输入排序顺序值"},model:{value:e.editAddressForm.orderIndex,callback:function(t){e.$set(e.editAddressForm,"orderIndex",t)},expression:"editAddressForm.orderIndex"}})],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.editAddressVisible=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e._editAddress("editAddressForm")}}},[e._v("确 定")])],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"新增孩子",visible:e.addChildrenVisible,width:"660px"},on:{"update:visible":function(t){e.addChildrenVisible=t}}},[r("el-form",{ref:"addAddressForm",attrs:{model:e.addAddressForm,rules:e.addAddressrules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"类型:",prop:"type"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择类型"},on:{change:e.changeTypeList1},model:{value:e.addAddressForm.type,callback:function(t){e.$set(e.addAddressForm,"type",t)},expression:"addAddressForm.type"}},e._l(e.TypeList1,function(e){return r("el-option",{key:e.ContentType,attrs:{label:e.ContentType,value:e.ContentType}})}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"值:",prop:"value"}},[r("el-input",{attrs:{placeholder:"请输入值"},model:{value:e.addAddressForm.value,callback:function(t){e.$set(e.addAddressForm,"value",t)},expression:"addAddressForm.value"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"价格:",prop:"price"}},[r("el-input",{attrs:{placeholder:"请输入价格"},model:{value:e.addAddressForm.price,callback:function(t){e.$set(e.addAddressForm,"price",t)},expression:"addAddressForm.price"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"排序值:",prop:"orderIndex"}},[r("el-input",{attrs:{placeholder:"请输入排序顺序值"},model:{value:e.addAddressForm.orderIndex,callback:function(t){e.$set(e.addAddressForm,"orderIndex",t)},expression:"addAddressForm.orderIndex"}})],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.addChildrenVisible=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e._addAddress("addAddressForm")}}},[e._v("确 定")])],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"编辑反馈选项",visible:e.editChildrenVisible,width:"660px"},on:{"update:visible":function(t){e.editChildrenVisible=t}}},[r("el-form",{ref:"editAddressForm",attrs:{model:e.editAddressForm,rules:e.editAddressrules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"类型:",prop:"type"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择类型"},on:{change:e.changeTypeList},model:{value:e.editAddressForm.type,callback:function(t){e.$set(e.editAddressForm,"type",t)},expression:"editAddressForm.type"}},e._l(e.TypeList,function(e){return r("el-option",{key:e.ContentType,attrs:{label:e.ContentType,value:e.ContentType}})}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"值:",prop:"value"}},[r("el-input",{attrs:{placeholder:"请输入值"},model:{value:e.editAddressForm.value,callback:function(t){e.$set(e.editAddressForm,"value",t)},expression:"editAddressForm.value"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"价格:",prop:"price"}},[r("el-input",{attrs:{placeholder:"请输入价格"},model:{value:e.editAddressForm.price,callback:function(t){e.$set(e.editAddressForm,"price",t)},expression:"editAddressForm.price"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"排序值:",prop:"orderIndex"}},[r("el-input",{attrs:{placeholder:"请输入排序顺序值"},model:{value:e.editAddressForm.orderIndex,callback:function(t){e.$set(e.editAddressForm,"orderIndex",t)},expression:"editAddressForm.orderIndex"}})],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.editAddressVisible=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e._editAddress("editAddressForm")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("h3",[t("i"),this._v("发送选项\n      ")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",[t("i"),this._v("反馈选项\n      ")])}]};var u=r("C7Lr")(n,c,!1,function(e){r("HUzq")},"data-v-2086d443",null);t.default=u.exports}});