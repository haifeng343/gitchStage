webpackJsonp([59],{"0QkB":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("hRKE"),n=i.n(a),s=i("lC5x"),c=i.n(s),r=i("J0Oq"),l=i.n(r),o=i("1w1M"),h=i("rG6y"),u=i("6sKG"),v=i.n(u),d={name:"basetable",components:{Schart:h.a},data:function(){return{mapJson:"/static/json/map.json",tableData:[],cur_page:1,endAge:"",startAge:"",province:"",sheng:"",shi:"",shi1:[],qu:"",qu1:[],city:"",block:"",pageCount:0,pagesize:10,data2:[],options3:{title:"短信发送统计",bgColor:"#ffffff",titleColor:"#333333",legendColor:"#333333",radius:120}}},created:function(){this.getData(),this.getCityData()},computed:{},methods:{drawLine:function(){this.$echarts.init(document.getElementById("myChart")).setOption({title:{text:"在Vue中使用echarts"},tooltip:{},xAxis:{data:["衬衫","羊毛衫","雪纺衫","裤子","高跟鞋","袜子"]},yAxis:{},series:[{name:"销量",type:"bar",data:[5,20,36,10,10,20]}]})},getData:function(){var t=this;return l()(c.a.mark(function e(){var i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i={Province:t.sheng,City:t.shi,County:t.qu,StartAge:t.startAge,EndAge:t.endAge},e.next=3,Object(o.n)(i).then(function(e){if(e.Success){for(var i=e.Data.SexStatistic_Sms,a=[],n=0;n<i.length;n++)a.push({name:i[n].Name,value:i[n].Count});t.data2=a}});case 3:case"end":return e.stop()}},e,t)}))()},search:function(){this.getData()},getCityData:function(){var t=this;v.a.get(this.mapJson).then(function(e){var i=e;for(var a in t.province=[],t.city=[],t.block=[],i)a.match(/0000$/)?t.province.push({id:a,value:i[a],children:[]}):a.match(/00$/)?t.city.push({id:a,value:i[a],children:[]}):t.block.push({id:a,value:i[a]});for(var n in t.province)for(var s in t.city)t.province[n].id.slice(0,2)===t.city[s].id.slice(0,2)&&t.province[n].children.push(t.city[s]);for(var c in t.city)for(var r in t.block)t.block[r].id.slice(0,4)===t.city[c].id.slice(0,4)&&t.city[c].children.push(t.block[r])}).catch(function(t){console.log(n()(+t))})},choseProvince:function(t){for(var e in this.province)t===this.province[e].value&&(this.shi1=this.province[e].children,this.shi=this.province[e].children[0].value,this.qu1=this.province[e].children[0].children,this.qu=this.province[e].children[0].children[0].value,this.E=this.qu1[0].value)},choseCity:function(t){for(var e in this.city)t===this.city[e].value&&(this.qu1=this.city[e].children,this.qu=this.city[e].children[0].value,this.E=this.qu1[0].value)},choseBlock:function(t){this.E=t}}},p={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"table"},[i("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}}),t._v(" "),i("div",{staticClass:"container"},[i("div",{staticClass:"handle-box"},[i("label",{attrs:{for:""}},[t._v("地区:")]),t._v(" "),i("el-select",{staticStyle:{width:"140px"},attrs:{placeholder:"省级地区"},on:{change:t.choseProvince},model:{value:t.sheng,callback:function(e){t.sheng=e},expression:"sheng"}},t._l(t.province,function(t){return i("el-option",{key:t.id,attrs:{label:t.value,value:t.value}})}),1),t._v(" "),i("el-select",{staticStyle:{width:"140px"},attrs:{placeholder:"市级地区"},on:{change:t.choseCity},model:{value:t.shi,callback:function(e){t.shi=e},expression:"shi"}},t._l(t.shi1,function(t){return i("el-option",{key:t.id,attrs:{label:t.value,value:t.value}})}),1),t._v(" "),i("el-select",{staticStyle:{width:"140px"},attrs:{placeholder:"区级地区"},on:{change:t.choseBlock},model:{value:t.qu,callback:function(e){t.qu=e},expression:"qu"}},t._l(t.qu1,function(t){return i("el-option",{key:t.id,attrs:{label:t.value,value:t.value}})}),1),t._v(" "),i("label",{attrs:{for:""}},[t._v("年龄范围:")]),t._v(" "),i("el-input",{staticClass:"handle-input mr10",model:{value:t.startAge,callback:function(e){t.startAge=e},expression:"startAge"}}),t._v(" "),i("label",{attrs:{for:""}},[t._v("-")]),t._v(" "),i("el-input",{staticClass:"handle-input mr10",model:{value:t.endAge,callback:function(e){t.endAge=e},expression:"endAge"}}),t._v(" "),i("el-button",{staticStyle:{color:"018AD8"},attrs:{icon:"search"},on:{click:t.search}},[t._v("搜索")])],1),t._v(" "),i("div",{staticClass:"echart-container"},[i("div",{staticClass:"content-title"},[t._v("饼状图")]),t._v(" "),i("schart",{staticClass:"schart",attrs:{canvasId:"pie",data:t.data2,type:"pie",options:t.options3}})],1)])],1)},staticRenderFns:[]};var f=i("C7Lr")(d,p,!1,function(t){i("Xowk")},"data-v-0566b2a4",null);e.default=f.exports},Xowk:function(t,e){}});