webpackJsonp([46],{"5abk":function(e,t){},h3zl:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r("lC5x"),i=r.n(s),a=r("J0Oq"),l=r.n(a),n=r("vMJZ"),h={data:function(){return{itemList:[],data:{},allArr:[],arr0:[],arr1:[],arr2:[],arr3:[],arr4:[],defaultProps0:{children:"Children",label:"AuthorityName"},defaultProps1:{children:"Children",label:"AuthorityName"},defaultProps2:{children:"Children",label:"AuthorityName"},defaultProps3:{children:"Children",label:"AuthorityName"},defaultProps4:{children:"Children",label:"AuthorityName"}}},created:function(){this.getData()},methods:{getCheckedKeys:function(){this.allArr=this.$refs.tree0.getCheckedKeys().concat(this.$refs.tree1.getCheckedKeys()).concat(this.$refs.tree2.getCheckedKeys()).concat(this.$refs.tree3.getCheckedKeys()).concat(this.$refs.tree4.getCheckedKeys())},setCheckedKeys:function(){},saveAuth:function(){var e=this;this.getCheckedKeys();var t={RoleId:this.$route.params.id,AuthorityIdList:this.allArr.join(",")};Object(n.t)(t).then(function(t){t.Success?(e.$message({showClose:!0,message:"修改成功",type:"success"}),e.getData(e.cur_page),e.editVisible=!1):e.$message.error("res.Message")})},getArr0:function(e){if(e&&e.length>0)for(var t=0;t<e.length;t++)e[t].IsChoice&&this.arr0.push(e[t].AuthorityId),this.getArr0(e[t].Children)},getArr1:function(e){if(e&&e.length>0)for(var t=0;t<e.length;t++)e[t].IsChoice&&this.arr1.push(e[t].AuthorityId),this.getArr1(e[t].Children)},getArr2:function(e){if(e&&e.length>0)for(var t=0;t<e.length;t++)e[t].IsChoice&&this.arr2.push(e[t].AuthorityId),this.getArr2(e[t].Children)},getArr3:function(e){if(e&&e.length>0)for(var t=0;t<e.length;t++)e[t].IsChoice&&this.arr3.push(e[t].AuthorityId),this.getArr3(e[t].Children)},getArr4:function(e){if(e&&e.length>0)for(var t=0;t<e.length;t++)e[t].IsChoice&&this.arr4.push(e[t].AuthorityId),this.getArr4(e[t].Children)},getData:function(){var e=this;return l()(i.a.mark(function t(){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={RoleId:e.$route.params.id},t.next=3,Object(n.o)(r).then(function(t){if(t.Success){for(var r=[],s=0;s<t.Data.length;s++)r.push([t.Data[s]]);e.itemList=r,e.getArr0(e.itemList[0]),e.getArr1(e.itemList[1]),e.getArr2(e.itemList[2]),e.getArr3(e.itemList[3]),e.getArr4(e.itemList[4]),e.$refs.tree0.setCheckedKeys(e.arr0),e.$refs.tree1.setCheckedKeys(e.arr1),console.log(e.arr1),e.$refs.tree2.setCheckedKeys(e.arr2),e.$refs.tree3.setCheckedKeys(e.arr3),e.$refs.tree4.setCheckedKeys(e.arr4)}});case 3:case"end":return t.stop()}},t,e)}))()}},computed:{}},o={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{},[r("div",{staticClass:"container"},[r("ul",{staticClass:"item-box flex"},[r("li",{staticClass:"item-list"},[r("el-tree",{ref:"tree0",attrs:{data:e.itemList[0],"show-checkbox":"","default-expand-all":"",props:e.defaultProps0,"node-key":"AuthorityId"}})],1),e._v(" "),r("li",{staticClass:"item-list"},[r("el-tree",{ref:"tree1",attrs:{data:e.itemList[1],"show-checkbox":"","default-expand-all":"",props:e.defaultProps1,"node-key":"AuthorityId"}})],1),e._v(" "),r("li",{staticClass:"item-list"},[r("el-tree",{ref:"tree2",attrs:{data:e.itemList[2],"show-checkbox":"","default-expand-all":"",props:e.defaultProps2,"node-key":"AuthorityId"}})],1),e._v(" "),r("li",{staticClass:"item-list"},[r("el-tree",{ref:"tree3",attrs:{data:e.itemList[3],"show-checkbox":"","default-expand-all":"",props:e.defaultProps3,"node-key":"AuthorityId"}})],1),e._v(" "),r("li",{staticClass:"item-list"},[r("el-tree",{ref:"tree4",attrs:{data:e.itemList[4],"show-checkbox":"","default-expand-all":"",props:e.defaultProps4,"node-key":"AuthorityId"}})],1)]),e._v(" "),r("div",{staticClass:"buttons flex"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.saveAuth()}}},[e._v("确定")])],1)])])},staticRenderFns:[]};var c=r("C7Lr")(h,o,!1,function(e){r("5abk")},null,null);t.default=c.exports}});