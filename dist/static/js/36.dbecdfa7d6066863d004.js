webpackJsonp([36],{"3YZy":function(e,t){},HzY4:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("CcaF"),n={name:"basetable",data:function(){return{tableData:[],cur_page:1,Id:"",editVisible:!1,editForm:{contentType:"",contentTypeDes:"",contentValue:"",price:"",contentDes:"",orderIndex:"",category:"",createTime:"",updateTime:""},editrules:{contentTypeDes:[{required:!0,message:"请输入名称",trigger:"blur"},{min:1,max:20,message:"长度在 1 到 20 个字符",trigger:"blur"}],contentValue:[{required:!0,message:"请输入值",trigger:"blur"},{min:1,max:20,message:"长度在 1 到 20 个字符",trigger:"blur"}],price:[{required:!0,message:"价格",trigger:"blur"},{type:"number",message:"请输入数字",trigger:"blur"}],contentDes:[{required:!0,message:"请输入描述",trigger:"blur"},{min:1,max:20,message:"长度在 1 到 20 个字符",trigger:"blur"}],orderIndex:[{required:!0,message:"请输入排序",trigger:"blur"},{type:"number",message:"请输入数字",trigger:"blur"}]}}},created:function(){this.getData()},computed:{},methods:{saveEdit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var r={ContentType:t.editForm.contentType,ContentTypeDes:t.editForm.contentTypeDes,ContentValue:t.editForm.contentValue,Price:t.editForm.price,ContentDes:t.editForm.contentDes,OrderIndex:t.editForm.orderIndex};Object(a.h)(r).then(function(e){e.Success?(t.$message({showClose:!0,message:"修改成功",type:"success"}),t.getData(t.cur_page),t.editVisible=!1):t.$message("发生错误")})})},handleEdit:function(e){this.editVisible=!0,this.editForm.contentType=e.ContentType,this.editForm.contentTypeDes=e.ContentTypeDes,this.editForm.contentValue=e.ContentValue,this.editForm.price=e.Price,this.editForm.contentDes=e.ContentDes,this.editForm.orderIndex=e.OrderIndex,this.editForm.category=e.Category,this.editForm.createTime=e.CreateTime,this.editForm.updateTime=e.UpdateTime},handleSizeChange:function(e){this.pagesize=e,this.getData()},handleCurrentChange:function(e){this.cur_page=e,this.getData()},getData:function(){var e=this;Object(a.t)({}).then(function(t){t&&t.Success?(e.tableData=t.Data.List,e.pageCount=t.Data.TotalCount):e.$message({message:"发生错误",center:!0})})},search:function(){this.getData()},getStatus:function(e){switch(e){case 1:return"发送选项";case 2:return"反馈选项"}}}},i={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"table"},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}}),e._v(" "),r("div",{staticClass:"container"},[r("div",{staticClass:"handle-box"}),e._v(" "),r("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.tableData,border:""}},[r("el-table-column",{attrs:{prop:"ContentType",align:"center",label:"编码"}}),e._v(" "),r("el-table-column",{attrs:{prop:"ContentTypeDes",align:"center",label:"名称"}}),e._v(" "),r("el-table-column",{attrs:{prop:"ContentValue",align:"center",label:"值"}}),e._v(" "),r("el-table-column",{attrs:{prop:"Price",align:"center",label:"价格"}}),e._v(" "),r("el-table-column",{attrs:{prop:"ContentDes",align:"center",label:"描述"}}),e._v(" "),r("el-table-column",{attrs:{prop:"Category",align:"center",label:"所属类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(e.getStatus(t.row.Category))+"\n                ")]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"OrderIndex",align:"center",label:"排序"}}),e._v(" "),r("el-table-column",{attrs:{prop:"UpdateTime",align:"center",label:"更新时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(e._f("normalTime")(t.row.UpdateTime,t.row.UpdateTime))+"\n                ")]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(r){e.handleEdit(t.row)}}},[e._v("编辑")])]}}])})],1),e._v(" "),r("el-dialog",{attrs:{title:"编辑价格模板-"+e.editForm.contentType,visible:e.editVisible,width:"633px"},on:{"update:visible":function(t){e.editVisible=t}}},[r("el-form",{ref:"editForm",attrs:{model:e.editForm,rules:e.editrules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"名称:",prop:"contentTypeDes"}},[r("el-input",{attrs:{placeholder:"请输入内容名称"},model:{value:e.editForm.contentTypeDes,callback:function(t){e.$set(e.editForm,"contentTypeDes",t)},expression:"editForm.contentTypeDes"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"价格:",prop:"price"}},[r("el-input",{attrs:{placeholder:"请输入价格"},model:{value:e.editForm.price,callback:function(t){e.$set(e.editForm,"price",e._n(t))},expression:"editForm.price"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"值:",prop:"contentValue"}},[r("el-input",{attrs:{placeholder:"请输入值"},model:{value:e.editForm.contentValue,callback:function(t){e.$set(e.editForm,"contentValue",t)},expression:"editForm.contentValue"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"描述:",prop:"contentDes"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入描述"},model:{value:e.editForm.contentDes,callback:function(t){e.$set(e.editForm,"contentDes",t)},expression:"editForm.contentDes"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"排序:",prop:"orderIndex"}},[r("el-input",{attrs:{placeholder:"请输入排序"},model:{value:e.editForm.orderIndex,callback:function(t){e.$set(e.editForm,"orderIndex",e._n(t))},expression:"editForm.orderIndex"}})],1)],1),e._v(" "),r("span",{staticClass:"category-box"},[e._v("所属类型:"+e._s(e.getStatus(e.editForm.category)))]),e._v(" "),r("div",{staticClass:"dialog-time-box"},[""!=e.editForm.createTime?r("span",[e._v("创建时间:"+e._s(e.editForm.createTime))]):e._e(),""!=e.editForm.updateTime?r("span",[e._v("最后更新时间:"+e._s(e.editForm.updateTime))]):e._e()]),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{staticClass:"dialog-certain",attrs:{type:"primary",size:"medium"},on:{click:function(t){e.saveEdit("editForm")}}},[e._v("确 定")])],1)],1)],1)],1)},staticRenderFns:[]};var o=r("C7Lr")(n,i,!1,function(e){r("3YZy")},"data-v-5cd01d5a",null);t.default=o.exports}});